/* --------- Theme --------- */
:root{
  --bg:#0A1A30; --text:#E6EDF7;
  --cyan:#4CC9F0; --gold:#FFD166; --green:#38B000; --danger:#FF5964;
  --ocean:#0D2C54; --land:#2E8540;
  --hud-h:56px;
}

/* --------- Base & CRT --------- */
*{ box-sizing:border-box }
html, body{ height:100dvh; margin:0; overflow:hidden; background:var(--bg); color:var(--text); font-family:monospace; }
#game{ position:fixed; inset:0; }
.scanlines::after{
  content:""; position:fixed; inset:0; pointer-events:none;
  background:repeating-linear-gradient(to bottom,rgba(0,0,0,.12) 0px,rgba(0,0,0,.12) 2px,transparent 3px,transparent 4px);
  mix-blend-mode:multiply;
}

/* --------- HUD --------- */
#hud{
  position:fixed; top:0; left:0; right:0; z-index:10;
  min-height:var(--hud-h);
  background:rgba(10,26,48,.85);
  padding:4px 8px; font-size:12px;
  display:flex; gap:10px; align-items:center; flex-wrap:wrap;
}
#hud span{ white-space:nowrap }

/* --------- Scenes --------- */
.scene{
  position:fixed; top:var(--hud-h); left:0; right:0; bottom:0;
  display:none; overflow:hidden;
}
.scene.show{ display:block }

/* --------- Centering container --------- */
.center{
  max-width:780px; height:100%;
  margin:0 auto; padding:16px;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap:12px; text-align:center;
}

/* --------- Buttons / Choices --------- */
.btn{
  display:inline-block; border:2px solid var(--cyan); padding:6px 12px; margin:4px; cursor:pointer;
  background-size:8px 8px; image-rendering:pixelated; box-shadow:0 0 0 2px var(--bg) inset; color:var(--text);
}
.btn:hover{ border-color:var(--gold) }
.btn:focus{ outline:1px dashed var(--gold) }

.choice{
  border:2px solid var(--cyan); padding:6px 8px; margin:6px 0; background-size:8px 8px; cursor:pointer;
}
.choice.correct{ border-color:var(--green) }
.choice.incorrect{ border-color:var(--danger) }

.npc{ font-style:italic; margin-bottom:6px }
.brochure{ border:1px solid var(--cyan); background:#0F2A47; padding:8px; margin-top:10px; font-size:13px }

/* --------- Map --------- */
#mapCanvas{ display:block; width:100%; height:100%; image-rendering:pixelated }
#mapTooltip{
  position:absolute; pointer-events:none; border:1px solid var(--cyan); padding:3px 6px; font-size:11px;
  background:#0F2A47; color:var(--text); z-index:15; display:none
}

/* --------- Map-only Loader --------- */
#loading{
  position:absolute; inset:0; display:none;
  align-items:center; justify-content:center;
  background:rgba(10,26,48,.85); z-index:5; font-size:14px; letter-spacing:.08em;
}
#mapScreen.loading #loading{ display:flex }

/* --------- Modal (Verify) --------- */
#modalOverlay{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(10,26,48,.92); z-index:50 }
#modalOverlay.active{ display:flex }
#modal{ width:min(480px,92%); background:var(--bg); border:2px solid var(--cyan); padding:16px; position:relative }
#modal input{ width:100%; box-sizing:border-box; border:1px solid var(--cyan); background:#0F2A47; color:var(--text); padding:6px; margin:6px 0 }
#modal .close{ position:absolute; right:8px; top:8px; cursor:pointer }

/* --------- Legend --------- */
#legend{ font-size:11px; opacity:.95 }

/* --------- Journal / Clues / Evidence --------- */
.journal h2, .evidence h2 { margin-bottom: 8px }
.goal-row{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin:8px 0 14px }
.pill{
  display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border:1px solid rgba(82,224,224,.45);
  background:linear-gradient(180deg,#0e1d37,#0a1630); border-radius:999px; font-size:14px;
}
.pill.ok{ border-color:#67F28C; box-shadow:0 0 9px rgba(103,242,140,.25) }
.pill.hint{ border-color:#FFD166 }
.clue-list{ text-align:left; max-width:700px }
.clue{ border:1px dashed rgba(82,224,224,.35); padding:8px; margin:6px 0; border-radius:8px; background:rgba(14,29,55,.5) }
.leads{ margin-top:10px; opacity:.9; font-size:14px }
.lead-dot{ display:inline-block; width:8px; height:8px; border-radius:50%; background:#FFD166; margin-right:6px }

/* --------- Toasts --------- */
#toasts{
  position:fixed; bottom:10px; left:50%; transform:translateX(-50%);
  z-index:40; display:flex; flex-direction:column; gap:6px;
}
.toast{
  background: rgba(14,29,55,.92);
  border: 1px solid var(--cyan);
  padding: 6px 10px;
  border-radius: 8px;
  font-size: 12px;
}
