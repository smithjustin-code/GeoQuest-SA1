<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Andes & Amazons ‚Äî City of the Condor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<div id="game" class="scanlines">
  <!-- HUD -->
  <div id="hud">
    <span id="hudCase"></span>
    <span id="hudStudent"></span>
    <span id="hudClass"></span>
    <span id="hudXP"></span>
    <span id="hudTP"></span>
    <span id="hudVisited"></span>
    <span id="hudSound" style="cursor:pointer" title="Toggle sound (M)"></span>
    <span id="hudJournal" style="cursor:pointer" title="Open Journal">üìì Journal</span>
    <span id="hudClues" style="cursor:pointer" title="View Clues">üóÇÔ∏è Clues</span>
  </div>

  <!-- Title -->
  <div id="titleScreen" class="scene show">
    <div class="center">
      <h1>ANDES &amp; AMAZONS</h1>
      <h3>South America Sleuth</h3>
      <div id="titleButtons"></div>
      <div id="howTo" style="display:none;text-align:left;margin-top:10px;max-width:680px">
        <h3>How to Play</h3>
        <p>Pick the case, then travel city-to-city across South America to gather clues. Correct answers earn XP; each trip costs 1 TP. Meet your XP, Visited, and Evidence goals to resolve the case.</p>
        <p><strong>Controls:</strong> Click cities ‚Ä¢ 1‚Äì4 answer ‚Ä¢ Enter/Space select ‚Ä¢ M sound ‚Ä¢ T verify ‚Ä¢ Esc close modal.</p>
      </div>
    </div>
  </div>

  <!-- HQ -->
  <div id="hqScreen" class="scene">
    <div class="center">
      <h2>HQ ‚Äî Case Board</h2>
      <p id="hqIntro"></p>
      <div id="caseList" style="width:100%;max-width:680px"></div>
      <div style="margin-top:10px;text-align:left">
        <label>Student Name: <input id="studentName" type="text" placeholder="Your name"></label><br/>
        <label>Class: <input id="className" type="text" placeholder="Class"></label>
      </div>
      <div id="hqButtons" style="margin-top:10px"></div>
    </div>
  </div>

  <!-- Map -->
  <div id="mapScreen" class="scene">
    <canvas id="mapCanvas" width="600" height="500"></canvas>
    <div id="mapTooltip"></div>

    <div style="position:absolute;left:10px;bottom:10px;z-index:2">
      <div id="mapMsg" style="margin-bottom:6px"></div>
      <div id="mapButtons"></div>
      <div id="legend" style="margin-top:4px">
        Legend: <span style="color:#FFD166">‚ú™</span> Capital
        <span style="color:#4CC9F0">‚ñ†</span> City
        <span style="color:#FFD166">‚úà</span> Plane
        <span style="opacity:.7">‚Äî</span> Route
      </div>
    </div>

    <!-- Map-only loader -->
    <div id="loading">Loading map‚Ä¶</div>
  </div>

  <!-- Country -->
  <div id="countryScreen" class="scene">
    <div id="countryContent" class="center"></div>
  </div>

  <!-- Journal -->
  <div id="journalScreen" class="scene">
    <div id="journalContent" class="center"></div>
  </div>

  <!-- Clues -->
  <div id="clueScreen" class="scene">
    <div id="clueContent" class="center"></div>
  </div>

  <!-- Final -->
  <div id="finalScreen" class="scene">
    <div id="finalContent" class="center"></div>
  </div>

  <!-- Verify Modal -->
  <div id="modalOverlay">
    <div id="modal">
      <div id="modalClose" class="close">X</div>
      <h3>Verify Completion Code</h3>
      <label>Name <input id="verifyName" type="text"></label>
      <label>Class <input id="verifyClass" type="text"></label>
      <label>XP <input id="verifyXP" type="number" min="0"></label>
      <label>Visited <input id="verifyVisited" type="number" min="0"></label>
      <label>Code <input id="verifyCode" type="text"></label>
      <div id="verifyResult" style="margin-top:8px"></div>
      <div id="verifyBtn" class="btn">Check</div>
    </div>
  </div>

  <!-- Toast host -->
  <div id="toasts" aria-live="polite"></div>
</div>

<!-- Script order matters: data first, then game -->
<script src="data.js"></script>
<script src="game.js"></script>
</body>
</html>
