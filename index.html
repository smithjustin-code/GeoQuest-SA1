<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Andes & Amazons: South America Sleuth</title>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <!-- Pixel fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="game" class="scanlines crt">
  <div id="hud">
    <span id="hudCase"></span>
    <span id="hudStudent"></span>
    <span id="hudClass"></span>
    <span id="hudXP"></span>
    <span id="hudTP"></span>
    <span id="hudVisited"></span>
    <span id="hudSound" style="cursor:pointer" title="Toggle sound (M)"></span>
  </div>

  <div id="loading">Loading map…</div>

  <!-- Title -->
  <div id="titleScreen" class="scene show">
    <div class="center">
      <h1>ANDES &amp; AMAZONS</h1>
      <h3>South America Sleuth</h3>
      <div id="titleButtons"></div>
      <div id="howTo" style="display:none;text-align:left;margin-top:10px">
        <h3>How to Play</h3>
        <p>Pick the case, then travel city-to-city across South America to gather clues. Each new country visit asks a quick question. Correct = +2 XP, wrong = −1 XP (min 0). Travel costs 1 TP. Reach the XP and Visited goals to resolve the case.</p>
        <p><strong>Controls:</strong> Click cities • 1–4 answer • Enter/Space select • M sound • T verify • Esc close modal.</p>
      </div>
    </div>
  </div>

  <!-- HQ -->
  <div id="hqScreen" class="scene">
    <div class="center">
      <h2>HQ — Case Board</h2>
      <p id="hqIntro"></p>
      <div id="caseList"></div>
      <div style="margin-top:10px;text-align:left">
        <label>Student Name: <input id="studentName" type="text" placeholder="Your name"></label><br/>
        <label>Class: <input id="className" type="text" placeholder="Class"></label>
      </div>
      <div id="hqButtons" style="margin-top:10px"></div>
    </div>
  </div>

  <!-- Map -->
<div id="mapScreen" class="scene">
  <canvas id="mapCanvas" width="600" height="500"></canvas>
  <div id="mapTooltip"></div>
  <div style="position:absolute;left:10px;bottom:10px">
    <div id="mapMsg" style="margin-bottom:6px"></div>
    <div id="mapButtons"></div>
    <div id="legend" style="margin-top:4px">…</div>
        Legend: <span style="color:#FFD166">✪</span> Capital
        <span style="color:#4CC9F0">■</span> City
        <span style="color:#FFD166">✈</span> Plane
        <span style="opacity:.7">—</span> Route
      </div>
    </div>
  </div>

  <!-- Country -->
  <div id="countryScreen" class="scene">
    <div id="countryContent" class="center"></div>
  </div>

  <!-- Final -->
  <div id="finalScreen" class="scene">
    <div id="finalContent" class="center"></div>
  </div>

  <!-- Verify Modal -->
  <div id="modalOverlay">
    <div id="modal">
      <div id="modalClose" class="close">X</div>
      <h3>Verify Completion Code</h3>
      <label>Name <input id="verifyName" type="text"></label>
      <label>Class <input id="verifyClass" type="text"></label>
      <label>XP <input id="verifyXP" type="number" min="0"></label>
      <label>Visited <input id="verifyVisited" type="number" min="0"></label>
      <label>Code <input id="verifyCode" type="text"></label>
      <div id="verifyResult" style="margin-top:8px"></div>
      <div id="verifyBtn" class="btn">Check</div>
    </div>
  </div>

  <!-- Toasts -->
  <div id="toasts" aria-live="polite" aria-atomic="true"></div>
</div>

<!-- Load content first, then game engine -->
<script defer src="data.js"></script>
<script defer src="game.js"></script>
</body>
</html>

